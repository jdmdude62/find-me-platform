<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Find.Me - Discover Your True Direction</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            line-height: 1.6;
            color: #333;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            color: white;
        }

        .header h1 {
            font-size: 2.5rem;
            font-weight: 300;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .main-content {
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .progress-bar {
            width: 100%;
            height: 6px;
            background: #f0f0f0;
            border-radius: 3px;
            margin-bottom: 30px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea, #764ba2);
            transition: width 0.3s ease;
            border-radius: 3px;
        }

        .question-section {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .question-section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Enhanced Question Container - Always Visible */
        .question-container {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 25px;
            position: sticky;
            top: 0;
            z-index: 10;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        .question-header {
            margin-bottom: 20px;
        }

        .question-number {
            background: #667eea;
            color: white;
            padding: 6px 15px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: bold;
            display: inline-block;
            margin-bottom: 12px;
        }

        .question-title {
            font-size: 1.8rem;
            margin-bottom: 12px;
            color: #2c3e50;
            line-height: 1.3;
        }

        .question-subtitle {
            font-size: 1.05rem;
            color: #7f8c8d;
            margin-bottom: 15px;
            line-height: 1.5;
        }

        .question-prompt {
            background: #fff;
            border: 2px solid #667eea;
            border-left: 6px solid #667eea;
            padding: 18px;
            border-radius: 8px;
            font-size: 1rem;
            color: #2c3e50;
            line-height: 1.6;
            margin-top: 15px;
        }

        .question-prompt strong {
            color: #667eea;
            font-weight: 600;
        }

        /* Response Section - Separate and Clear */
        .response-section {
            background: white;
            border: 2px solid #e9ecef;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 20px;
        }

        .response-section h3 {
            color: #2c3e50;
            margin-bottom: 20px;
            font-size: 1.3rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .response-section h3::before {
            content: "💭";
            font-size: 1.2rem;
        }

        .quick-options {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            margin-bottom: 25px;
        }

        .quick-option {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            padding: 10px 18px;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 0.95rem;
            white-space: nowrap;
        }

        .quick-option:hover {
            background: #667eea;
            color: white;
            border-color: #667eea;
            transform: translateY(-1px);
        }

        .response-area {
            position: relative;
        }

        .response-label {
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 12px;
            font-size: 1rem;
            display: block;
        }

        .response-textarea {
            width: 100%;
            min-height: 140px;
            padding: 18px;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            font-size: 1rem;
            resize: vertical;
            font-family: inherit;
            transition: all 0.2s ease;
            line-height: 1.6;
        }

        .response-textarea:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .response-textarea::placeholder {
            color: #6c757d;
            font-style: italic;
        }

        /* Response Summary - When Completed */
        .response-summary {
            background: #f8f9fa;
            border-left: 4px solid #27ae60;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            display: none;
        }

        .response-summary.show {
            display: block;
        }

        .response-summary-title {
            font-weight: bold;
            color: #27ae60;
            margin-bottom: 12px;
            font-size: 1rem;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .response-summary-title::before {
            content: "✓";
            background: #27ae60;
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
        }

        .edit-response-btn {
            background: #667eea;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.9rem;
            margin-top: 12px;
            transition: all 0.2s ease;
        }

        .edit-response-btn:hover {
            background: #5a6fd8;
            transform: translateY(-1px);
        }

        .voice-controls {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid #f0f0f0;
        }

        .voice-btn {
            background: #667eea;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .voice-btn:hover {
            background: #5a6fd8;
            transform: translateY(-1px);
        }

        .voice-btn.recording {
            background: #e74c3c;
            animation: pulse 1s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .save-indicator {
            color: #27ae60;
            font-size: 0.9rem;
            opacity: 0;
            transition: opacity 0.3s ease;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .save-indicator.visible {
            opacity: 1;
        }

        .save-indicator::before {
            content: "💾";
        }

        .navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 30px;
            padding-top: 25px;
            border-top: 2px solid #f0f0f0;
        }

        .nav-btn {
            background: #667eea;
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 30px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 500;
            transition: all 0.2s ease;
            min-width: 120px;
        }

        .nav-btn:hover {
            background: #5a6fd8;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
        }

        .nav-btn:disabled {
            background: #bdc3c7;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .nav-info {
            text-align: center;
            color: #7f8c8d;
            font-size: 0.9rem;
        }

        .time-estimate {
            font-weight: 500;
            color: #667eea;
        }

        /* Welcome Screen */
        .welcome-screen {
            text-align: center;
            padding: 40px 20px;
        }

        .welcome-screen h2 {
            color: #2c3e50;
            margin-bottom: 20px;
            font-size: 2rem;
        }

        .welcome-screen p {
            color: #7f8c8d;
            margin-bottom: 25px;
            font-size: 1.1rem;
            line-height: 1.8;
        }

        .privacy-notice {
            background: #f8f9fa;
            border-left: 4px solid #667eea;
            padding: 20px;
            margin: 25px 0;
            border-radius: 8px;
            font-size: 0.95rem;
            color: #555;
            text-align: left;
        }

        .start-btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 18px 45px;
            border-radius: 35px;
            cursor: pointer;
            font-size: 1.2rem;
            font-weight: 500;
            transition: all 0.3s ease;
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.3);
        }

        .start-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.4);
        }

        /* Mobile Optimizations */
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }

            .main-content {
                padding: 25px;
                border-radius: 15px;
            }

            .header h1 {
                font-size: 2rem;
            }

            .question-title {
                font-size: 1.5rem;
            }

            .question-container {
                padding: 20px;
            }

            .response-section {
                padding: 20px;
            }

            .quick-options {
                flex-direction: column;
            }

            .quick-option {
                text-align: center;
                padding: 12px 20px;
                width: 100%;
            }

            .navigation {
                flex-direction: column;
                gap: 15px;
            }

            .nav-btn {
                width: 100%;
                padding: 18px;
            }

            .voice-controls {
                flex-direction: column;
                align-items: stretch;
                gap: 12px;
            }

            .voice-btn {
                justify-content: center;
            }
        }

        /* Feedback Messages */
        .feedback-message {
            background: #e8f5e8;
            border: 2px solid #4caf50;
            padding: 15px;
            margin: 15px 0;
            border-radius: 8px;
            color: #2e7d32;
            font-size: 0.95rem;
            display: none;
        }

        .feedback-message.show {
            display: block;
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Find.Me</h1>
            <p>Discover your true direction through honest self-reflection</p>
        </div>

        <div class="main-content">
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>

            <!-- Welcome Screen -->
            <div class="question-section active" id="welcome">
                <div class="welcome-screen">
                    <h2>Welcome to Your Discovery Journey</h2>
                    <p>This is a privacy-first platform designed to help you discover what you're naturally drawn toward. Your responses stay completely private on your device.</p>
                    <p>The session takes 12-15 minutes of thoughtful reflection. There are no wrong answers - only honest discoveries.</p>
                    <div class="privacy-notice">
                        <strong>🔒 Your Privacy:</strong> All responses are stored locally on your device only. No data is sent to servers. You own and control everything you share.
                    </div>
                    <button class="start-btn" onclick="startSession()">Begin Discovery</button>
                </div>
            </div>

            <!-- Question 1 -->
            <div class="question-section" id="question1">
                <!-- Question Container - Always Visible -->
                <div class="question-container">
                    <div class="question-header">
                        <div class="question-number">Question 1 of 12</div>
                        <h2 class="question-title">What brings you here?</h2>
                        <p class="question-subtitle">Let's start with understanding what brings you here and what you're hoping to discover about yourself.</p>
                    </div>
                    
                    <div class="question-prompt">
                        <strong>Please reflect on:</strong> What brings you to this discovery process? What are you hoping to learn about yourself or your direction in life?
                    </div>
                </div>

                <!-- Response Summary (shown when completed) -->
                <div class="response-summary" id="summary1">
                    <div class="response-summary-title">Your Response Completed</div>
                    <div id="summaryText1"></div>
                    <button class="edit-response-btn" onclick="editResponse(1)">✏️ Edit Response</button>
                </div>

                <!-- Response Section -->
                <div class="response-section" id="responseSection1">
                    <h3>Your Response</h3>
                    
                    <div class="quick-options">
                        <div class="quick-option" onclick="selectQuickOption(1, 'Career guidance')">Career guidance</div>
                        <div class="quick-option" onclick="selectQuickOption(1, 'Personal growth')">Personal growth</div>
                        <div class="quick-option" onclick="selectQuickOption(1, 'Life direction')">Life direction</div>
                        <div class="quick-option" onclick="selectQuickOption(1, 'Skills discovery')">Skills discovery</div>
                    </div>
                    
                    <div class="response-area">
                        <label class="response-label">Share your thoughts:</label>
                        <textarea class="response-textarea" id="response1" placeholder="What brings you to this discovery process? What are you hoping to learn about yourself or your direction in life?"></textarea>
                        <div class="voice-controls">
                            <button class="voice-btn" onclick="startVoiceInput(1)">
                                🎤 Voice Input
                            </button>
                            <span class="save-indicator" id="saveIndicator1">Auto-saved</span>
                        </div>
                    </div>

                    <div class="feedback-message" id="feedback1"></div>
                </div>
            </div>

            <!-- Question 2 -->
            <div class="question-section" id="question2">
                <div class="question-container">
                    <div class="question-header">
                        <div class="question-number">Question 2 of 12</div>
                        <h2 class="question-title">Privacy and Data Ownership</h2>
                        <p class="question-subtitle">Your responses stay completely private on your device. Let's make sure you're comfortable with how this works.</p>
                    </div>
                    
                    <div class="question-prompt">
                        <strong>Please reflect on:</strong> Do you have any questions about privacy or how your data will be handled? All responses are stored locally on your device only.
                    </div>
                </div>

                <div class="response-summary" id="summary2">
                    <div class="response-summary-title">Your Response Completed</div>
                    <div id="summaryText2"></div>
                    <button class="edit-response-btn" onclick="editResponse(2)">✏️ Edit Response</button>
                </div>

                <div class="response-section" id="responseSection2">
                    <h3>Your Response</h3>
                    
                    <div class="quick-options">
                        <div class="quick-option" onclick="selectQuickOption(2, 'I understand')">I understand</div>
                        <div class="quick-option" onclick="selectQuickOption(2, 'Tell me more')">Tell me more</div>
                        <div class="quick-option" onclick="selectQuickOption(2, 'I have concerns')">I have concerns</div>
                    </div>
                    
                    <div class="response-area">
                        <label class="response-label">Share your thoughts:</label>
                        <textarea class="response-textarea" id="response2" placeholder="Any questions or concerns about how your privacy is protected?"></textarea>
                        <div class="voice-controls">
                            <button class="voice-btn" onclick="startVoiceInput(2)">
                                🎤 Voice Input
                            </button>
                            <span class="save-indicator" id="saveIndicator2">Auto-saved</span>
                        </div>
                    </div>

                    <div class="feedback-message" id="feedback2"></div>
                </div>
            </div>

            <div class="navigation">
                <button class="nav-btn" id="prevBtn" onclick="previousQuestion()" disabled>← Previous</button>
                <div class="nav-info">
                    <div class="time-estimate" id="timeEstimate">~12 minutes remaining</div>
                    <div class="save-indicator" id="globalSaveIndicator">All changes saved</div>
                </div>
                <button class="nav-btn" id="nextBtn" onclick="nextQuestion()">Next →</button>
            </div>
        </div>
    </div>

    <script>
        // Core variables
        let currentQuestion = 0;
        let sessionData = {
            sessionId: generateSessionId(),
            startTime: new Date(),
            responses: {},
            device: detectDevice()
        };

        function generateSessionId() {
            return 'session_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
        }

        function detectDevice() {
            const width = window.innerWidth;
            if (width <= 768) return 'Mobile';
            if (width <= 1024) return 'Tablet';
            return 'Desktop';
        }

        function init() {
            loadSession();
            updateProgress();
            setupAutoSave();
        }

        function saveSession() {
            try {
                sessionData.lastSaved = new Date();
                localStorage.setItem('findme_session', JSON.stringify(sessionData));
                showSaveIndicator();
            } catch (e) {
                console.log('Session saved to memory');
            }
        }

        function loadSession() {
            try {
                const saved = localStorage.getItem('findme_session');
                if (saved) {
                    const data = JSON.parse(saved);
                    if (data.sessionId && data.startTime) {
                        sessionData = { ...sessionData, ...data };
                        Object.keys(sessionData.responses).forEach(key => {
                            const element = document.getElementById(key);
                            if (element) element.value = sessionData.responses[key];
                        });
                    }
                }
            } catch (e) {
                console.log('Starting new session');
            }
        }

        function setupAutoSave() {
            setInterval(() => {
                if (currentQuestion > 0) {
                    saveCurrentResponse();
                    saveSession();
                }
            }, 30000);

            document.addEventListener('input', (e) => {
                if (e.target.classList.contains('response-textarea')) {
                    clearTimeout(e.target.saveTimeout);
                    e.target.saveTimeout = setTimeout(() => {
                        saveCurrentResponse();
                        saveSession();
                        showQuestionSaveIndicator(e.target.id);
                    }, 3000);
                }
            });
        }

        function saveCurrentResponse() {
            if (currentQuestion > 0 && currentQuestion <= 12) {
                const responseId = `response${currentQuestion}`;
                const element = document.getElementById(responseId);
                if (element) {
                    sessionData.responses[responseId] = element.value;
                }
            }
        }

        function showSaveIndicator() {
            const indicator = document.getElementById('globalSaveIndicator');
            indicator.classList.add('visible');
            setTimeout(() => indicator.classList.remove('visible'), 2000);
        }

        function showQuestionSaveIndicator(responseId) {
            const questionNum = responseId.replace('response', '');
            const indicator = document.getElementById(`saveIndicator${questionNum}`);
            if (indicator) {
                indicator.classList.add('visible');
                setTimeout(() => indicator.classList.remove('visible'), 2000);
            }
        }

        function startSession() {
            currentQuestion = 1;
            showQuestion(1);
            updateProgress();
        }

        function showQuestion(questionNum) {
            // Hide all sections
            document.querySelectorAll('.question-section').forEach(section => {
                section.classList.remove('active');
            });

            // Show target section
            const targetSection = questionNum === 0 ? 'welcome' : `question${questionNum}`;
            const targetElement = document.getElementById(targetSection);
            if (targetElement) {
                targetElement.classList.add('active');
            }

            // Update response display based on completion status
            updateResponseDisplay(questionNum);
            updateNavigationButtons();
            updateProgress();

            sessionData.currentQuestion = questionNum;
            saveSession();
        }

        function updateResponseDisplay(questionNum) {
            if (questionNum > 0 && questionNum <= 12) {
                const responseElement = document.getElementById(`response${questionNum}`);
                const summaryElement = document.getElementById(`summary${questionNum}`);
                const summaryTextElement = document.getElementById(`summaryText${questionNum}`);
                const responseSectionElement = document.getElementById(`responseSection${questionNum}`);
                
                if (responseElement && summaryElement && summaryTextElement && responseSectionElement) {
                    const hasResponse = responseElement.value.trim();
                    
                    if (hasResponse) {
                        // Show summary, hide response section
                        const responseText = responseElement.value.trim();
                        const summaryText = responseText.length > 150 ? 
                            responseText.substring(0, 150) + '...' : 
                            responseText;
                        
                        summaryTextElement.textContent = summaryText;
                        summaryElement.classList.add('show');
                        responseSectionElement.style.display = 'none';
                    } else {
                        // Show response section, hide summary
                        summaryElement.classList.remove('show');
                        responseSectionElement.style.display = 'block';
                    }
                }
            }
        }

        function editResponse(questionNum) {
            const summaryElement = document.getElementById(`summary${questionNum}`);
            const responseSectionElement = document.getElementById(`responseSection${questionNum}`);
            
            if (summaryElement && responseSectionElement) {
                summaryElement.classList.remove('show');
                responseSectionElement.style.display = 'block';
                
                // Focus on textarea
                const textarea = document.getElementById(`response${questionNum}`);
                if (textarea) {
                    textarea.focus();
                    textarea.setSelectionRange(textarea.value.length, textarea.value.length);
                }
            }
        }

        function nextQuestion() {
            if (currentQuestion === 0) {
                startSession();
                return;
            }

            saveCurrentResponse();
            
            if (currentQuestion < 2) { // Limited to 2 questions for demo
                currentQuestion++;
                showQuestion(currentQuestion);
            }
        }

        function previousQuestion() {
            if (currentQuestion > 1) {
                saveCurrentResponse();
                currentQuestion--;
                showQuestion(currentQuestion);
            }
        }

        function updateNavigationButtons() {
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');

            prevBtn.disabled = currentQuestion <= 1;
            
            if (currentQuestion >= 2) {
                nextBtn.textContent = 'Complete Demo →';
                nextBtn.onclick = () => alert('Demo complete! Full version has 12 questions.');
            } else {
                nextBtn.textContent = 'Next →';
                nextBtn.onclick = nextQuestion;
            }
        }

        function updateProgress() {
            const progressFill = document.getElementById('progressFill');
            const progress = currentQuestion === 0 ? 0 : (currentQuestion / 12) * 100;
            progressFill.style.width = progress + '%';

            const timeEstimate = document.getElementById('timeEstimate');
            const remaining = Math.max(0, 12 - currentQuestion);
            timeEstimate.textContent = `~${remaining} minutes remaining`;
        }

        function selectQuickOption(questionNum, option) {
            const templates = {
                'Career guidance': "I'm looking for career guidance because I feel uncertain about my professional direction and want to understand what truly motivates me...",
                'Personal growth': "I'm focused on personal growth and want to understand my natural strengths and what genuinely energizes me...",
                'Life direction': "I'm feeling uncertain about my life direction and hoping to discover what I'm naturally drawn toward...",
                'Skills discovery': "I want to discover my natural skills and talents, especially those I might not have recognized or developed yet...",
                'I understand': "I understand that my responses stay on my device. I appreciate this privacy-first approach because it means I can be completely honest...",
                'Tell me more': "I'd like to know more about how my privacy is protected. How can I verify that my responses aren't being sent anywhere?",
                'I have concerns': "I have some concerns about privacy that I'd like addressed. In today's digital world, I'm cautious about sharing personal information..."
            };

            const textarea = document.getElementById(`response${questionNum}`);
            const template = templates[option] || `I selected: ${option}. `;
            
            showQuickOptionFeedback(questionNum, option);
            
            if (textarea.value.trim() === '') {
                textarea.value = template;
            } else {
                textarea.value += ' ' + template;
            }
            
            textarea.focus();
            saveCurrentResponse();
            saveSession();
        }

        function showQuickOptionFeedback(questionNum, option) {
            const feedback = document.getElementById(`feedback${questionNum}`);
            if (!feedback) return;
            
            const feedbackMessages = {
                'Tell me more': "This platform uses browser localStorage, which means your responses are saved only on your device - like a private diary that never leaves your computer.",
                'I have concerns': "Your privacy concerns are completely valid. Unlike most platforms, this system is designed so that even the developers cannot see your responses.",
                'I understand': "Perfect! This privacy-first approach means you can be completely honest without any concerns."
            };
            
            const message = feedbackMessages[option];
            if (message) {
                feedback.innerHTML = `<strong>💡 ${option}:</strong> ${message}`;
                feedback.classList.add('show');
                setTimeout(() => feedback.classList.remove('show'), 8000);
            }
        }

        function startVoiceInput(questionNum) {
            alert('Voice input would be available with proper microphone permissions and HTTPS deployment.');
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', init);
        if (document.readyState !== 'loading') {
            init();
        }
    </script>
</body>
</html>
